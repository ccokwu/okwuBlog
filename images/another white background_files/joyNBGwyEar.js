if (self.CavalryLogger) { CavalryLogger.start_js(["wzk\/8"]); }

__d("AdsTransparencyProductCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADVERTISER_OPTOUT:"advertiser_optout",AD_PREFERENCES_NEW_USER_SURVEY:"ad_preferences_new_user_survey",CAPSTONE_NUX:"capstone_nux",COOKIE:"cookie",DATA_PROVIDER_OPTOUT:"data_provider_optout",DIALOG_NEW_USER_SURVEY:"dialog_new_user_survey",DIALOG_SATISFACTION_SURVEY:"dialog_satisfaction_survey",EBAY_ADCHOICE_OPTOUT:"ebay_adchoice_optout",FBX_PARTNER_OPTOUT:"fbx_partner_optout",HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_ALREADY_OWNED:"hide_already_owned",HIDE_SINGLE:"hide_single",NATIVE_OPTOUT:"native_optout",QF_NEGATIVE:"qf_negative",QF_NEUTRAL:"qf_neutral",QF_RELEVANT:"qf_relevant",XOUT_SURVEY:"xout_survey"};},null);
__d("XAdPreferencesCapstoneEditActionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/capstone\/edit\/",{ad_id:{type:"Int"},ads_page_type:{type:"Enum",enumType:0},event:{type:"String"},interest_id:{type:"FBID"},quick_edit_number:{type:"Int"}});},null);
__d('CapstoneQuickEditMenuItem.react',['ix','cx','AdsPreferencesEvent','AdsTransparencyEvent','AdsTransparencyLoggerWrapper','AdsTransparencyProduct','AdsTransparencyProductCategory','AsyncRequest','Image.react','PageTransitions','React','ReactDOM','Tooltip','TooltipData','XAdPreferencesCapstoneEditActionController','XAdsPreferencesQuickEditHistoryController','XUIAmbientNUX.react','XUIButton.react','fbglyph'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('XAdPreferencesCapstoneEditActionController').getURIBuilder().getURI(),k=c('React').PropTypes,l=c('React').createClass({displayName:'CapstoneQuickEditMenuItem',propTypes:{adID:k.string.isRequired,addTooltip:k.node,editNumber:k.number.isRequired,flexColumn:k.bool,interest:k.object,pageType:k.number.isRequired,removeTooltip:k.node,renderNux:k.bool,updateInterests:k.func.isRequired},getDefaultProps:function(){return {renderNux:false};},getInitialState:function(){return {edited:false,renderNux:this.props.renderNux};},render:function(){var m=this.props,n=m.interest,o=m.flexColumn;if(!n)return c('React').createElement('span',null,this.renderLayers());if(this.state.renderNux)new (c('AdsTransparencyLoggerWrapper'))().setPrefsEvent(c('AdsPreferencesEvent').SHOW_CAPSTONE_NUX).setTransparencyEvent(c('AdsTransparencyEvent').USER_EXPOSURE).addToExtraData('quick_edit_number',this.props.editNumber.toString()).setAdID(this.props.adID).setCategory(c('AdsTransparencyProductCategory').CAPSTONE_NUX).setProduct(c('AdsTransparencyProduct').NUX).log();var p=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-happy_16_bluegray-40.png")}),q=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-unhappy_16_bluegray-40.png")});return (c('React').createElement('span',null,c('React').createElement('div',{ref:'nux'},c('React').createElement('span',{className:"_3eqa"},c('React').createElement('span',babelHelpers['extends']({className:(o?"_3eqc":'')+(!o?' '+"_5h8":''),ref:'interest_name'},c('TooltipData').propsFor(n.name)),n.name)),c('React').createElement('span',{className:"_3eqd"},c('React').createElement('span',{className:"_4jxc"},c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({className:"_4jxd",image:p,size:'small',suppressed:true,onClick:this._handleAddInterest},c('TooltipData').propsFor(this.props.addTooltip))),c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({className:"_4jxd",image:q,size:'small',suppressed:true,onClick:this._handleRemoveInterest},c('TooltipData').propsFor(this.props.removeTooltip)))))),this.renderLayers()));},renderLayers:function(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this._getNuxRef,offsetY:12,position:'above',shown:this.state.renderNux,onCloseButtonClick:this._onClickHideNux,key:'ambientNux'},this.props.nuxMessage));},_hideNux:function(){if(this.state.renderNux)this.setState({renderNux:false});},componentDidMount:function(){c('PageTransitions').registerHandler(this._hideNux,10);if(this.props.interest)c('Tooltip').enableDisplayOnOverflow(c('ReactDOM').findDOMNode(this.refs.interest_name));if(this.props.renderNux)new (c('AsyncRequest'))(c('XAdsPreferencesQuickEditHistoryController').getURIBuilder().setFBID('ad_id',this.props.adID).setEnum('edit_action','nux_shown').getURI()).send();},componentWillUnmount:function(){this._hideNux();},_getNuxRef:function(){return this.refs.nux;},_handleAddInterest:function(){this._handleEditInterest('add');},_handleRemoveInterest:function(){this._handleEditInterest('del');},_handleEditInterest:function(event){var m=this.props,n=m.editNumber,o=m.interest;if(!o||this.state.edited)return;this.setState({edited:true});this.props.updateInterests(o.id,n);new (c('AsyncRequest'))(j).setData({ad_id:this.props.adID,ads_page_type:this.props.pageType,event:event,interest_id:o.id,quick_edit_number:n}).send();},_onClickHideNux:function(){this.setState({renderNux:false});}});f.exports=l;},null);
__d('CapstoneQuickEditMenu.react',['ix','cx','AdsPreferencesEvent','AdsTransparencyEvent','AdsTransparencyLoggerWrapper','AdsTransparencyTypedLogger','AdsTransparencyProduct','AdsTransparencyProductElement','CapstoneQuickEditMenuItem.react','Image.react','Link.react','React','ReactCSSTransitionGroup','ReactDOM','Tooltip','TooltipData','fbglyph'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'CapstoneQuickEditMenu',propTypes:{adID:j.string.isRequired,addTooltip:j.node,columnActionText:j.node,columnActionURI:j.string,flexColumn:j.bool,interests:j.array.isRequired,nuxMessage:j.node,pageType:j.number.isRequired,removeTooltip:j.node,showActionIcon:j.bool,showNux:j.bool,staticColumn:j.bool,onEditingFinish:j.func.isRequired,onUpdateVisibleInterest:j.func.isRequired},getDefaultProps:function(){return {nuxMessage:'',showNux:false};},getInitialState:function(){return {editCount:1,unseenInterests:[],visibleInterest:null};},componentDidMount:function(){if(this.props.columnActionText)c('Tooltip').enableDisplayOnOverflow(c('ReactDOM').findDOMNode(this.refs.redirect_action));},componentWillMount:function(){var l=this.props.interests,m=l[0];this.setState({unseenInterests:l.slice(1),visibleInterest:m});this.props.onUpdateVisibleInterest(m.id);},_onAdPrefsRedirectClick:function(){new (c('AdsTransparencyTypedLogger'))().setAdID(this.props.adID).setLoadedPreferences([parseInt(this.state.visibleInterest.id,10)]).setProduct(c('AdsTransparencyProduct').CAPSTONE).setProductElement(c('AdsTransparencyProductElement').AD_PREFS_LINK).setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).log();},_onInterestEdit:function(l,m){var n=this.state.unseenInterests,o=n.shift();this.setState({editCount:m+1,unseenInterests:n,visibleInterest:o});if(o!==undefined){this.props.onUpdateVisibleInterest(o.id);}else{this.props.onUpdateVisibleInterest(null);new (c('AdsTransparencyLoggerWrapper'))().setPrefsEvent(c('AdsPreferencesEvent').CAPSTONE_QUICK_EDIT_FINISHED).setTransparencyEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).addToExtraData('quick_edit_number',this.state.editCount.toString()).setAdID(this.props.adID).setProduct(c('AdsTransparencyProduct').CAPSTONE).setMessage('quick_edit_finished').log();this.props.onEditingFinish();}},shouldComponentUpdate:function(l,m){return this.state.visibleInterest!==m.visibleInterest;},_shouldRenderRedirectColumn:function(){return !!(this.props.columnActionURI&&this.props.columnActionText);},_getRedirectColumnContent:function(){var l=this.props,m=l.columnActionURI,n=l.columnActionText,o=l.showActionIcon,p=l.staticColumn;if(!this._shouldRenderRedirectColumn())return null;var q=o?c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/gear_12_fig-blue.png")}):null;return (c('React').createElement('div',{className:"redirectColumn"},c('React').createElement('span',{className:"_5uyt"+(!p?' '+"_5uys":'')},c('React').createElement('span',{className:"_3yro"},q)),c('React').createElement('span',{className:"_5uyr"},c('React').createElement(c('Link.react'),babelHelpers['extends']({className:"_3yrp",href:m,ref:'redirect_action'},c('TooltipData').propsFor(n),{onClick:this._onAdPrefsRedirectClick}),n))));},_getSpaceColumn:function(){var l=this.props.staticColumn;if(!l)return null;return (c('React').createElement('div',{className:"_3rtg"},c('React').createElement('div',{className:"_3rth"})));},render:function(){var l=this.state.visibleInterest;if(!l)return null;var m=this.props,n=m.showNux,o=m.staticColumn,p=n&&this.state.editCount==2;return (c('React').createElement('div',{className:"_5uyu"},c('React').createElement('div',{className:"_4pbi"},c('React').createElement('div',{className:(!o?"_5uyv":'')+(o?' '+"_5uzi":'')},c('React').createElement(c('ReactCSSTransitionGroup'),{className:"_4pbl",component:'div',transitionEnterTimeout:600,transitionLeaveTimeout:600,transitionName:'qe-menuitem'},c('React').createElement(c('CapstoneQuickEditMenuItem.react'),babelHelpers['extends']({},this.props,{editNumber:this.state.editCount,interest:l,key:l.id,renderNux:p,updateInterests:this._onInterestEdit})))),this._getSpaceColumn(),this._getRedirectColumnContent())));}});f.exports=k;},null);
__d('FbFeedObjectInfoCapstone.react',['ix','cx','fbt','AdsTransparencyEvent','AdsTransparencyProduct','AdsTransparencyProductElement','AdsTransparencyTypedLogger','AsyncRequest','CapstoneQuickEditMenu.react','Image.react','Layout.react','Link.react','React','XAdsPreferencesQuickEditHistoryController','XUICloseButton.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').PropTypes,n=c('React').createClass({displayName:'FbFeedObjectInfoCapstone',propTypes:{adID:m.string,editAreaProps:m.object,followupActionText:m.node,followupActionURI:m.node,followupMessage:m.node,headerActionText:m.node,headerActionURI:m.node,headerMessage:m.string.isRequired,isErrorCapstone:m.bool,showIcon:m.bool},getDefaultProps:function(){return {isErrorCapstone:false,showIcon:false};},getInitialState:function(){return {editingFinished:false,hidden:false,visibleInterests:null};},_onAdPrefsRedirectClick:function(){new (c('AdsTransparencyTypedLogger'))().setAdID(this.props.adID).setLoadedPreferences([this.state.visibleInterest]).setProduct(c('AdsTransparencyProduct').CAPSTONE).setProductElement(c('AdsTransparencyProductElement').AD_PREFS_LINK).setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).log();},_getAction:function(){var o=this.state.editingFinished,p=this.props,q=p.followupActionURI,r=p.followupActionText,s=p.headerActionURI,t=p.headerActionText,u=p.showActionIcon;if(!o&&s){var v=null;if(u)v=c('React').createElement('span',{className:"_3l1l"},c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/gear_12_fig-blue.png")}));return (c('React').createElement('span',{className:"_3l1m"},v,c('React').createElement(c('Link.react'),{className:"_moo",href:s,onClick:this._onAdPrefsRedirectClick},t)));}else if(o&&q)return (c('React').createElement(c('Link.react'),{className:"_moo",href:q,onClick:this._onAdPrefsRedirectClick},r));return null;},_getEditArea:function(){var o=this.props.editAreaProps;if(!o)return null;return (c('React').createElement(c('CapstoneQuickEditMenu.react'),babelHelpers['extends']({onEditingFinish:this._onEditingFinished,onUpdateVisibleInterest:this._onUpdateVisibleInterest},o)));},_getMessage:function(){var o=this.state.editingFinished,p=this.props,q=p.headerMessage,r=p.followupMessage;return o&&r?r:q;},_onEditingFinished:function(){this.setState({editingFinished:true});},_onClickHideCapstone:function(){var o=c('XAdsPreferencesQuickEditHistoryController').getURIBuilder().setFBID('ad_id',this.props.adID).setFBIDVector('loaded_preferences',[this.state.visibleInterest]).setEnum('edit_action','hide').getURI(),p=new (c('AsyncRequest'))(o);p.send();this.setState({hidden:true});},_onUpdateVisibleInterest:function(o){this.setState({visibleInterest:o});},shouldComponentUpdate:function(o,p){return (p.hidden!==this.state.hidden||p.editingFinished!==this.state.editingFinished);},render:function(){if(this.state.hidden)return null;var o=this.props,p=o.isErrorCapstone,q=o.showIcon,r=(p?"_3utq":'')+(!p?' '+"_2g9u":''),s=null;if(q)if(p){s=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png"),className:"_58tt"});}else s=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/info-solid_16_bluegray-40.png")});return (c('React').createElement('div',{className:r},c('React').createElement(c('Layout.react'),{className:"_3eyg"},c('React').createElement(k,{className:"_58tt"},s),c('React').createElement(l,{className:"_48y_"},this._getMessage(),' ',this._getAction()),c('React').createElement(k,{className:"_3eyh"},c('React').createElement(c('XUICloseButton.react'),{onClick:this._onClickHideCapstone},j._("Close")))),this._getEditArea()));}});f.exports=n;},null);